function mask(t,e,a){if(!t||!e)return{maskedValue:"",advanced:!1};const n=t.replace(/[^a-zA-Z0-9]/g,"");let d="",s=0,r=!1;for(let t=0;t<e.length&&!(s>=n.length);t++){const l=n[s];if("0"!==e[t]&&"A"!==e[t]){d+=e[t];continue}if("0"===e[t]&&!/\d/.test(l))break;if("A"===e[t]&&!/[a-zA-Z]/.test(l))break;d+=n[s++];let c=e[t+1];a&&c&&"0"!==c&&"A"!==c&&(r=!0,d+=c,t++)}return{maskedValue:d,advanced:r}}document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll("input[mask]").forEach(t=>{const e=t.getAttribute("mask"),a=t.getAttribute("mask-auto-advance");t.maxLength=e.length;const n=t=>{let n=t.target.selectionStart;const{maskedValue:d,advanced:s}=mask(t.target.value,e,a);t.target.value=d;let r=d[n-1];if(s&&t.data&&"0"!=e[n]&&"A"!=e[n]&&n++,t.data&&d.length>n)for(;!/\d/.test(r)&&!/[a-zA-Z]/.test(r);)r=d[n-1],n++;t.target.setSelectionRange(n,n)};t.addEventListener("input",n),t.addEventListener("paste",n)})});